---
Title: DBS101 Unit_Three class3
categories: [DBS101 Unit_three_class3]
tags: [DBS101]
---
## Introduction
A database is an organized collection of data that can be easily accessed, managed, and updated. It allows users to store, retrieve, and manipulate data efficiently. Databases are used in various applications, from websites and business systems to network configurations and cybersecurity.

## Transaction 
- A transaction is a single, logical operation that interacts with a database, potentially retrieving or modifying its contents.
## ACID Properties
![Acid](/assets/unit3/acid.png)

## ACID Properties in DBMS
- A = Atomicity → The entire transaction takes place at once or doesn’t happen at all.
- C = Consistency → The database must be consistent before and after the transaction.
- I = Isolation → Multiple transactions occur independently without interference.
- D = Durability → The changes of a successful transaction occur even if the system failure occurs.

## SQL Data Definition
- The structure of each table in the database.
- The data types assigned to each column.
- The rules ensuring data accuracy and consistency.
- The indexes that need to be created for each table.
- The security measures and access permissions for each table.
- The method of storing each table's data on disk.
## Constraints in SQL
- SQL constraints enforce rules on table data, ensuring accuracy and consistency. They restrict invalid entries, and any violation cancels the operation.

## commonly used constriant
- NOT NULL – Prevents NULL values in a column.
- UNIQUE – Ensures all values in a column are distinct.
- PRIMARY KEY – Combines NOT NULL and UNIQUE to identify each row.
- FOREIGN KEY – Maintains relationships between tables.
- CHECK – Enforces a condition on column values.
- DEFAULT – Assigns a default value if none is provided.
- CREATE INDEX – Speeds up data retrieval.

## Basic Structure of SQL Queries
![basic_structure](/assets/unit3/basic_structure.png)

## Database server
- A database server runs a database application, providing data services to other programs or computers in a client-server model.

## Create Database
- CREATE DATABASE database_name;
## List Databases
- \l
## Use Database (Change your Database)
- \c databasenamedb;
## SELECT entries from a table
- SELECT * FROM Users;
## Delete all entries from a table
- DELETE FROM Users;

## Null values in SQL
- In SQL, NULL represents missing or unknown data in a table. It requires special handling in operations like arithmetic, comparison, and set operations.
### Arithmetic Operations: Any operation with NULL results in NULL.
- Example: If r.A is NULL, then r.A + 5 is also NULL.

## Comparison Operations: Evaluates to "unknown" instead of true/false.
- Example: 1 < NULL results in unknown.
- SQL uses three-valued logic: true, false, unknown.
## NULL Testing Predicates:
- IS NULL – Checks if a value is NULL.
- IS NOT NULL – Checks if a value is not NULL.
- IS UNKNOWN – Checks if a comparison result is unknown.

## AND Operation
- true AND unknown = unknown
- false AND unknown = false
- unknown AND unknown = unknown
## OR Operation
- true OR unknown = true
- false OR unknown = unknown
- unknown OR unknown = unknown
## NOT Operation
- NOT unknown = unknown
- In WHERE clauses: tuples with false OR unknown predicates are filtered out.

## Duplicate Elimination (SELECT DISTINCT):
### Two values are considered identical if:
- Both are NULL, or
- Both are non-null and have equal values.
- Example: {('A', NULL), ('A', NULL)} are treated as identical tuples.
### Set Operations (UNION, INTERSECTION, EXCEPT):
- The same principle applies: NULL values in the same position are treated as identical.
- This is different from comparison behavior where "NULL = NULL" results in "unknown.

## Nested Subqueries
**Nested Queries:**
- Queries can be invoked inside other queries for more complex logic.
- Nested queries can access attributes from the outer query, but not the other way around.
- Inner queries can be used in almost any part of a query.
- They can be difficult to optimize

## Set Membership
- The IN operator checks if a tuple is part of a set of values generated by a SELECT query.
- The NOT IN operator checks if a tuple is not part of the set of values.
## set Comparison
- SQL supports comparing sets of values using operators such as IN, EXISTS, ALL, and ANY.
## Testing Relations
- Check if a relation is empty.
- Check for the absence of duplicate tuples.
## Subqueries in the FROM clause
- A subquery can be used in the FROM clause.
- Any SELECT-FROM-WHERE expression returns a relation, which can be inserted into another SELECT-FROM-WHERE wherever a relation is allowed.
## The With Clause
- Defines temporary result sets that can be used within a single SQL statement (e.g., SELECT, INSERT, UPDATE, DELETE).
- Improves query readability and maintainability by breaking complex queries into smaller, manageable parts.
## Scalar Subqueries
- Subqueries can be used wherever an expression returning a value is allowed, as long as the subquery returns a single tuple with one attribute.
- These subqueries are known as scalar subqueries.
- Scalar subqueries are often used in parts of a SQL statement where a single value is needed, such as in the SELECT list, WHERE clause, or as part of an expression.

## Modification of Database
## Deletion
- A delete operation is similar to a query.
- Only entire tuples (rows) can be deleted; individual attribute values cannot be deleted.
- SQL is used to perform deletion of whole tuples.
## Insertion
- Data can be inserted into a relation by specifying a tuple to insert.
- Alternatively, a query can be written whose result provides a set of tuples to be inserted.
## Updates
- The UPDATE statement is used to modify values in a table.
## Window Functions
**Window Functions in SQL:**
- A window function performs calculations across a set of related tuples, similar to aggregation, but without grouping them into a single output tuple.
- It can be used for calculating aggregates, rankings, and other analytical tasks, eliminating the need for subqueries or self-joins.
## Special Window Functions:
- ROW_NUMBER: Assigns a unique number to each row.
- RANK: Provides the rank or order position of the current row.

## What I have Learned
1. Database: A database organizes, stores, and manages data for easy access and manipulation across various applications.
2. Transactions: Transactions follow ACID properties (Atomicity, Consistency, Isolation, Durability) to ensure data integrity.
3. SQL Data Definition: SQL defines table structures, column data types, constraints (e.g., NOT NULL, PRIMARY KEY), and indexing.
4. SQL Constraints: Constraints enforce data integrity and prevent invalid entries in tables.
5. SQL Queries: Queries use SELECT, INSERT, UPDATE, DELETE, etc., to interact with data. NULL values are handled carefully.
6. Set Operations & Duplicates: SQL set operations (UNION, INTERSECTION) treat NULLs as identical, and SELECT DISTINCT eliminates duplicates.
7. Subqueries: Nested queries enable complex logic but can be hard to optimize. They access outer query attributes but not vice versa.
8. Set Membership: The IN and NOT IN operators test for the presence or absence of values in a set.
9. Data Modification: SQL allows data modification with DELETE, INSERT, and UPDATE for whole rows or values.

























